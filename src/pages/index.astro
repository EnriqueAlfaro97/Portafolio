---
const nombre = "Ricardo Alfaro";
const profesion = "Analista y Desarrollador Full Stack";

const misProyectos = [
  {
    nombre: "Microservices Ecosystem",
    subtitulo: "Core Engine & REST APIs (.NET 10)",
    resumen: "Desarrollo de una arquitectura de microservicios robusta bajo principios de Clean Architecture y SOLID.",
    detalles: "Lideré el desarrollo de microservicios utilizando .NET 10, implementando Arquitectura Hexagonal para garantizar la separación de responsabilidades. Implementé inyección de dependencias, manejo centralizado de excepciones y Entity Framework Core para la persistencia en SQL Server. Todo el flujo se gestionó con metodologías ágiles y Git para control de versiones.",
    tech: [".NET 10", "C#", "Microservicios", "Clean Architecture", "SQL Server", "SOLID"],
    link: "https://github.com/tu-usuario/microservices-core",
  },
  {
    nombre: "SICOTRA",
    subtitulo: "Sistema de Control de Transporte y Combustible",
    resumen: "Plataforma logística para la gestión de flotas, consumos y administración de registros en tiempo real.",
    detalles: "Desarrollé módulos críticos para el control de flujos de datos y logística. Utilicé Vistas Razor y DataTables para interfaces administrativas eficientes. El sistema optimiza consultas complejas en SQL Server (T-SQL) para generar reportes de rendimiento de combustible y mantenimiento preventivo.",
    tech: [".NET Core", "SQL Server", "Vistas Razor", "DataTables", "Bootstrap"],
    link: "https://github.com/tu-usuario/sicotra-v2",
  },
  {
    nombre: "Enterprise Web Suite",
    subtitulo: "Portal Institucional y APIs de Integración",
    resumen: "Desarrollo de sistemas web integrales con integración SAP (ABAP/HANA) y componentes DevExpress.",
    detalles: "Diseñé y mantuve sistemas web dinámicos priorizando la experiencia de usuario (UX). Implementé interfaces avanzadas con DevExpress/DevExtreme y aseguré la interoperabilidad con entornos SAP (HANA). Gestioné la lógica de negocio tanto en .NET Framework como en .NET Core.",
    tech: ["DevExpress", "SAP HANA", "ABAP", "C#", "JavaScript", "jQuery"],
    link: "https://github.com/tu-usuario/enterprise-suite",
  },
  {
    nombre: "SACC",
    subtitulo: "Sistema Administrativo Contable",
    resumen: "Herramienta para la gestión de libros de IVA, nómina y generación de reportes financieros.",
    detalles: "Desarrollé módulos contables integrales, enfocándome en la generación automática de reportes de IVA y estados financieros. Implementé la lógica de negocio en PHP y MySQL, asegurando la integridad de los datos contables y facilitando la auditoría mediante exportaciones en múltiples formatos.",
    tech: ["PHP", "MySQL", "JavaScript", "HTML5/CSS3", "Reportería BI"],
    link: "https://github.com/tu-usuario/sistema-contable",
  }
];
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Portafolio - {nombre}</title>
    <meta name="viewport" content="width=device-width" />

    <style is:global>
      @import "tailwindcss";
    </style>
  </head>
  <body class="bg-slate-900 text-slate-100 font-sans antialiased">
    <main class="max-w-5xl mx-auto px-6 py-20">
      <header class="mb-16 border-b border-slate-800 pb-10">
        <h1 class="text-5xl font-extrabold text-white mb-2">{nombre}</h1>
        <p class="text-xl text-blue-400 font-medium">{profesion}</p>
        <p class="mt-4 text-slate-400 max-w-2xl">
          Analista y Desarrollador Full Stack con
          trayectoria en el ciclo de vida de
          software, especializado en C# (.NET
          Core/Framework), PHP y JavaScript.
          Experto en el desarrollo y
          mantenimiento de sistemas utilizando
          DevExpress, DevExtreme y jQuery, con
          énfasis en la creación de APIs y gestión
          de bases de datos SQL Server y MySQL.
          Cuento con conocimientos técnicos en
          SAP (ABAP/S4HANA) aplicados al
          soporte y mejora de procesos,
          garantizando la continuidad y
          optimización de soluciones
          empresariales robustas.
        </p>
      </header>

      <section>
        <h2 class="text-2xl font-bold text-white mb-8 flex items-center">
          <span class="bg-blue-500 w-8 h-1 mr-3"></span> Proyectos Destacados
        </h2>

        <div class="grid md:grid-cols-2 gap-8">
          {
            misProyectos.map((proy) => (
              <div
                class="card-proyecto cursor-pointer bg-slate-800/50 border border-slate-700 p-8 rounded-2xl hover:border-blue-500 transition-all group"
                data-info={JSON.stringify(proy)}
              >
                <h3 class="text-2xl font-bold text-white mb-1">
                  {proy.nombre}
                </h3>
                <p class="text-blue-400 text-sm font-semibold mb-4">
                  {proy.subtitulo}
                </p>
                <p class="text-slate-400">{proy.resumen}</p>
                <div class="mt-6 text-blue-500 font-bold flex items-center gap-2">
                  Ver detalles técnicos <span>→</span>
                </div>
              </div>
            ))
          }
        </div>
      </section>
    </main>
  </body>
</html>

<div
  id="popup-inteligente"
  class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm"
>
  <div
    class="bg-slate-900 border-2 border-blue-500 w-full max-w-2xl rounded-3xl p-8 shadow-2xl relative animate-in fade-in zoom-in duration-300"
  >
    <button
      id="cerrar-popup"
      class="absolute top-4 right-4 text-slate-400 hover:text-white text-2xl"
      >&times;</button
    >

    <div id="contenido-popup"></div>
  </div>
</div>

<script is:inline>
  const cards = document.querySelectorAll(".card-proyecto");
  const popup = document.getElementById("popup-inteligente");
  const contenido = document.getElementById("contenido-popup");
  const btnCerrar = document.getElementById("cerrar-popup");

  cards.forEach((card) => {
    card.addEventListener("click", () => {
      const info = JSON.parse(card.getAttribute("data-info"));

      // Inyectamos el HTML dinámicamente
      contenido.innerHTML = `
        <h4 class="text-blue-400 font-bold text-3xl mb-2">${info.nombre}</h4>
        <p class="text-slate-400 font-semibold mb-6">${info.subtitulo}</p>
        
        <div class="bg-slate-800/50 p-6 rounded-xl mb-6 border-l-4 border-blue-500">
          <p class="text-slate-100 text-lg leading-relaxed">${info.detalles}</p>
        </div>

        <div class="flex flex-wrap gap-2 mb-8">
          ${info.tech.map((t) => `<span class="bg-blue-900/30 text-blue-300 text-xs font-bold px-3 py-1 rounded-full border border-blue-800/50">#${t}</span>`).join("")}
        </div>

        ${/* <a href="${info.link}" target="_blank" class="block w-full bg-blue-600 text-white text-center py-4 rounded-xl font-black uppercase tracking-widest hover:bg-blue-700 transition-all">
          Ir al Repositorio
        </a> 
        */ ""}
      `;

      popup.classList.remove("hidden");
      popup.classList.add("flex");
    });
  });

  // Cerrar al clickear el botón o fuera del cuadro
  const cerrar = () => {
    popup.classList.add("hidden");
    popup.classList.remove("flex");
  };

  btnCerrar.onclick = cerrar;
  popup.onclick = (e) => {
    if (e.target === popup) cerrar();
  };
</script>
